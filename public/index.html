<style>
    *{
        box-sizing: border-box;
        padding: 0;
        margin: 0;
        background:#000;
    }

    canvas{
        position: absolute;
        top:50%;
        left:50%;
        transform: translate(-50%, -50%);
        max-width: 100vw;
        max-height: 100vh;
    }
</style>
<canvas id="canvas" oncontextmenu="event.preventDefault()" height="0" width="0"></canvas>
<!-- to start off with the height and width are set to 0 -->
<script src="index.js"></script>
<script type='text/javascript'>
  const canvas = document.getElementById('canvas');

  Module.canvas = canvas;
  Module.onRuntimeInitialized = () => {
    setTimeout(() => {
        resize()
    }, 50); //delays the resize by 50ms to allow the initial sizing to occur
  }

  window.addEventListener('resize', resize);

  function resize(){
    //this ensures that aspect ratio of 16:9 is maintained
    //(this is used in combination with the css set max-width and max-height of 100vw and 100vh respectively)
    const width = (window.innerHeight < window.innerWidth*9/16) ? window.innerHeight*16/9 : window.innerWidth;
    const height = width*9/16;

    canvas.setAttribute("style", `width:${width}px, height:${height}px`); //sets canvas to be as big as the content inside it
    _setWindowSize(width*2, height*2); //sets the content to the correct size
    //setting it to be 2x bigger than the actual viewport seems to get rid of the aliasing effect well
  }
</script>